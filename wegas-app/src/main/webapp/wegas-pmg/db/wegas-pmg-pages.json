{
    "1": {
        "label": "Main layout",
        "type": "List",
        "cssClass": "layout",
        "children": [
            {
                "type": "List",
                "direction": "horizontal",
                "cssClass": "header",
                "children": [
                    {
                        "type": "List",
                        "direction": "horizontal",
                        "cssClass": "time",
                        "children": [
                            {
                                "type": "PmgBreadcrumb",
                                "locations": [
                                    "Initiation",
                                    "Planning",
                                    "Execution",
                                    "Closing"
                                ],
                                "variable": "currentPhase"
                            }, {
                                "type": "Template",
                                "cssClass": "pmg-period",
                                "label": "Periods",
                                "template": "valuebox",
                                "variable": {
                                    "expr": "currentPeriod.items[currentPhase.value].descriptorId"
                                }
                            }, {
                                "type": "Button",
                                "label": ">",
                                "tooltip": "Next period",
                                "plugins": [
                                    {
                                        "fn": "ExecuteScriptAction",
                                        "cfg": {
                                            "onClick": {
                                                "@class": "Script",
                                                "language": "JavaScript",
                                                "content": "nextPeriod()"
                                            }
                                        }
                                    }
                                ]
                            }
                        ]
                    }, {
                        "type": "List",
                        "direction": "horizontal",
                        "cssClass": "customers-gauges",
                        "children": [
                            {
                                "type": "GaugeDisplay",
                                "label": "Direction",
                                "variable": {
                                    "name": "managementApproval"
                                }
                            }, {
                                "type": "GaugeDisplay",
                                "label": "User",
                                "variable": {
                                    "name": "userApproval"
                                }
                            }
                        ]
                    }, {
                        "type": "List",
                        "direction": "horizontal",
                        "cssClass": "project-gauges",
                        "children": [
                            {
                                "type": "GaugeDisplay",
                                "label": "Quality",
                                "variable": {
                                    "name": "quality"
                                }
                            }, {
                                "type": "GaugeDisplay",
                                "label": "Costs",
                                "variable": {
                                    "name": "costs"
                                },
                                "plugins": [
                                    {
                                        "fn": "ConditionalDisable",
                                        "cfg": {
                                            "condition": {
                                                "@class": "Script",
                                                "content": "VariableDescriptorFacade.find(gameModel, 'currentPhase').getValue(self)<1",
                                                "language": "JavaScript"
                                            }
                                        }
                                    }
                                ]
                            }, {
                                "type": "GaugeDisplay",
                                "label": "Delay",
                                "variable": {
                                    "name": "delay"
                                },
                                "plugins": [
                                    {
                                        "fn": "ConditionalDisable",
                                        "cfg": {
                                            "condition": {
                                                "@class": "Script",
                                                "content": "VariableDescriptorFacade.find(gameModel, 'currentPhase').getValue(self)<1",
                                                "language": "JavaScript"
                                            }
                                        }
                                    }
                                ]
                            }
                        ]
                    }, {
                        "cssClass": "pmg-timevariable",
                        "type": "Template",
                        "label": "Available time: ",
                        "variable": {
                            "name": "timeCards"
                        },
                        "template": "box"
                    }
                ]
            }, {
                "type": "List",
                "direction": "horizontal",
                "cssClass": "horizontal-menu",
                "children": [
                    {
                        "type": "Button",
                        "label": "Project",
                        "plugins": [
                            {
                                "fn": "OpenPageAction",
                                "cfg": {
                                    "subpageId": 2,
                                    "targetPageLoaderId": "maindisplayarea"
                                }
                            }
                        ]
                    }, {
                        "type": "Button",
                        "label": "Tasks",
                        "plugins": [
                            {
                                "fn": "OpenPageAction",
                                "cfg": {
                                    "subpageId": 3,
                                    "targetPageLoaderId": "maindisplayarea"
                                }
                            }
                        ]
                    }, {
                        "type": "Button",
                        "label": "Gantt",
                        "plugins": [
                            {
                                "fn": "OpenPageAction",
                                "cfg": {
                                    "subpageId": 4,
                                    "targetPageLoaderId": "maindisplayarea"
                                }
                            },
                            {
                                "fn": "ConditionalDisable",
                                "cfg": {
                                    "condition": {
                                        "@class": "Script",
                                        "content": "VariableDescriptorFacade.find(gameModel, 'currentPhase').getValue(self)<1",
                                        "language": "JavaScript"
                                    }
                                }
                            }
                        ]
                    }, {
                        "type": "Button",
                        "label": "Resources",
                        "plugins": [
                            {
                                "fn": "OpenPageAction",
                                "cfg": {
                                    "subpageId": 5,
                                    "targetPageLoaderId": "maindisplayarea"
                                }
                            },
                            {
                                "fn": "ConditionalDisable",
                                "cfg": {
                                    "condition": {
                                        "@class": "Script",
                                        "content": "VariableDescriptorFacade.find(gameModel, 'currentPhase').getValue(self)<1",
                                        "language": "JavaScript"
                                    }
                                }
                            }
                        ]
                    }, {
                        "type": "Button",
                        "label": "EVM",
                        "plugins": [
                            {
                                "fn": "OpenPageAction",
                                "cfg": {
                                    "subpageId": 10,
                                    "targetPageLoaderId": "maindisplayarea"
                                }
                            },
                            {
                                "fn": "ConditionalDisable",
                                "cfg": {
                                    "condition": {
                                        "@class": "Script",
                                        "content": "VariableDescriptorFacade.find(gameModel, 'currentPhase').getValue(self)<1",
                                        "language": "JavaScript"
                                    }
                                }
                            }
                        ]
                    }, {
                        "type": "LoginButton",
                        "cssClass": "menu-loginbutton",
                        "tooltip": "Logout"
                    }
                ]
            }, {
                "type": "List",
                "direction": "vertical",
                "cssClass": "main",
                "children": [
                    {
                        "type": "List",
                        "direction": "vertical",
                        "cssClass": "vertical-menu",
                        "children": [
                            {
                                "type": "Button",
                                "cssClass": "actions",
                                "tooltip": "Actions",
                                "plugins": [
                                    {
                                        "fn": "UnreadCount",
                                        "cfg": {
                                            "variable": {
                                                "expr": "actions.items[currentPhase.value].descriptorId"
                                            }
                                        }
                                    }, {
                                        "fn": "OpenPageAction",
                                        "cfg": {
                                            "subpageId": 6,
                                            "targetPageLoaderId": "maindisplayarea"
                                        }
                                    }
                                ]
                            }, {
                                "type": "Button",
                                "cssClass": "questions",
                                "tooltip": "Questions",
                                "plugins": [
                                    {
                                        "fn": "UnreadCount",
                                        "cfg": {
                                            "variable": {
                                                "expr": "questions.items[currentPhase.value].items[currentPeriod.items[currentPhase.value].value - 1].descriptorId"
                                            }
                                        }
                                    }, {
                                        "fn": "OpenPageAction",
                                        "cfg": {
                                            "subpageId": 7,
                                            "targetPageLoaderId": "maindisplayarea"
                                        }
                                    }
                                ]
                            }, {
                                "type": "Button",
                                "cssClass": "inbox",
                                "tooltip": "Inbox",
                                "plugins": [
                                    {
                                        "fn": "UnreadCount",
                                        "cfg": {
                                            "variable": {
                                                "name": "inbox"
                                            }
                                        }
                                    }, {
                                        "fn": "OpenPageAction",
                                        "cfg": {
                                            "subpageId": 8,
                                            "targetPageLoaderId": "maindisplayarea"
                                        }
                                    }
                                ]
                            }, {
                                "type": "Button",
                                "cssClass": "history",
                                "tooltip": "History",
                                "plugins": [
                                    {
                                        "fn": "OpenPageAction",
                                        "cfg": {
                                            "subpageId": 9,
                                            "targetPageLoaderId": "maindisplayarea"
                                        }
                                    }
                                ]
                            }, {
                                "type": "Button",
                                "cssClass": "help",
                                "tooltip": "Help",
                                "plugins": [
                                    {
                                        "fn": "OpenPageAction",
                                        "cfg": {
                                            "subpageId": 10,
                                            "targetPageLoaderId": "maindisplayarea"
                                        }
                                    }
                                ]
                            }
                        ]
                    }, {
                        "label": "pageLoader",
                        "type": "PageLoader",
                        "pageLoaderId": "maindisplayarea",
                        "cssClass": "body",
                        "defaultPageId": 2
                    }
                ]
            }
        ]
    },
    "2": {
        "cssClass": "project-page",
        "type": "List",
        "children": [
            {
                "type": "PmgSlidePanel",
                "title": "Finances",
                "cssClass": "finances",
                "animation": false,
                "children": [
                    {
                        "type": "Template",
                        "custom": "<%  var fixedCosts=0, wages=0, unworked=0, total=0; for(var i=0; i<this.variable.get('items').length; i++) { var properties = this.variable.get('items')[i].getInstance().get('properties'); wages = wages + parseFloat(properties.wages); if (properties.completeness > 0) fixedCosts = fixedCosts + parseFloat(properties.fixedCosts); unworked = unworked + parseFloat(properties.unworkedHoursCosts); } total = wages + fixedCosts + unworked; %><div class='wages'><span class='label'>Wages</span><span class='variableValue'><%= wages %></span></div><div class='fixedCosts'><span class='label'>Fixed Costs</span><span class='variableValue'><%= fixedCosts %></span></div><div class='unworkedHours'><span class='label'>Unworked Hours</span><span class='variableValue'><%= unworked %></span></div><div class='total'><span class='label'>TOTAL</span><span class='variableValue'><%= total %></span></div>",
                        "variable": {
                            "name": "tasks"
                        }
                    }
                ]
            }, {
                "type": "PmgSlidePanel",
                "title": "EVM",
                "cssClass": "evm",
                "animation": false,
                "children": [
                    {
                        "type": "Chart",
                        "chartWidth": "90%",
                        "variables": [{
                                "name": "actualCost",
                                "label": "AC (Actual Cost)"
                            }, {
                                "name": "planedValue",
                                "label": "PV (Planed Value)"
                            }, {
                                "name": "earnedValue",
                                "label": "EV (Earned Value)"
                            }]
                    }
                ]
            }, {
                "type": "PmgSlidePanel",
                "title": "Indicators History: Management and Users",
                "cssClass": "indicators-management",
                "animation": false,
                "children": [
                    {
                        "type": "Chart",
                        "chartWidth": "90%",
                        "variables": [{
                                "name": "managementApproval",
                                "label": "Management"
                            }, {
                                "name": "userApproval",
                                "label": "Users"
                            }]
                    }
                ]
            }, {
                "type": "PmgSlidePanel",
                "title": "Indicators History: Quality, Costs, and Shedule",
                "cssClass": "indicators-quality",
                "animation": false,
                "children": [
                    {
                        "type": "Chart",
                        "chartWidth": "90%",
                        "variables": [{
                                "name": "actualCost",
                                "label": "Costs"
                            }, {
                                "name": "delay",
                                "label": "Shedule"
                            }, {
                                "name": "quality",
                                "label": "Quality"
                            }]
                    }
                ]
            }
        ]
    },
    "3": {
        "cssClass": "task-page",
        "type": "List",
        "direction": "vertical",
        "children": [
            {
                "type": "PmgDatatable",
                "variable": {
                    "name": "tasks"
                },
                "columnsCfg": [{
                        "key": "index",
                        "label": "No"
                    }, {
                        "key": "label",
                        "label": "Name"
                    }, {
                        "label": "Estimated duration",
                        "formatter": "template",
                        "field": "instance.duration"
                    }, {
                        "label": "Fixed costs",
                        "formatter": "template",
                        "field": "instance.properties.fixedCosts"
                    }, {
                        "label": "Wages",
                        "formatter": "template",
                        "field": "instance.properties.wages"
                    }, {
                        "label": "Quality",
                        "formatter": "template",
                        "field": "instance.properties.quality"
                    }, {
                        "label": "BAC",
                        "formatter": "template",
                        "field": "instance.properties.bac"
                    }, {
                        "label": "Realised %",
                        "formatter": "template",
                        "field": "instance.properties.completeness"
                    }, {
                        "key": "requirements",
                        "label": "Ressources",
                        "formatter": "requieredRessources"
                    }, {
                        "label": "Assigned resources",
                        "formatter": "assignedRessources"
                    }]
            }
        ]
    },
    "4": {
        "cssClass": "gantt-page",
        "type": "List",
        "children": [
            {
                "type": "PmgDatatable",
                "variable": {
                    "name": "tasks"
                },
                "columnsCfg": [{
                        "key": "index",
                        "label": "No"
                    }, {
                        "key": "label",
                        "label": "Name"
                    }],
                "plugins": [{
                        "fn": "ScheduleDT",
                        "cfg": {
                            "columnToAdd": 10,
                            "variable": {
                                "name": "periodPhase3"
                            }
                        }
                    }, {
                        "fn": "Planification"
                    }, {
                        "fn": "Plannificationcolor"
                    }, {
                        "fn": "PlannificationActivityColor"
                    }, {
                        "fn": "PlannificationProgressColor"
                    }]
            }
        ]
    },
    "5": {
        "cssClass": "resources-page",
        "direction": "vertical",
        "type": "List",
        "children": [
            {
                "type": "PmgSlidePanel",
                "title": "Web designer",
                "children": [
                    {
                        "type": "PmgDatatable",
                        "variable": {
                            "name": "webDesigner"
                        },
                        "columnsCfg": [{
                                "key": "label",
                                "label": "Name"
                            }, {
                                "label": "Grade",
                                "formatter": "object",
                                "field": "instance.skillsets"
                            }, {
                                "label": "Wage",
                                "formatter": "template",
                                "field": "instance.properties.wage"
                            }, {
                                "label": "Ratio",
                                "formatter": "template",
                                "field": "instance.properties.ratio"
                            }, {
                                "label": "Motiv.",
                                "formatter": "template",
                                "field": "instance.moral"
                            }],
                        "plugins": [{
                                "fn": "ScheduleDT",
                                "cfg": {
                                    "columnToAdd": 10,
                                    "variable": {
                                        "name": "periodPhase3"
                                    }
                                }
                            }, {
                                "fn": "Assignment",
                                "cfg": {
                                    "taskList": {
                                        "name": "tasks"
                                    }
                                }
                            }, {
                                "fn": "Reservation",
                                "cfg": {
                                    "type": "occupations"
                                }
                            }, {
                                "fn": "OccupationColor"
                            }, {
                                "fn": "ActivityColor"
                            }]
                    }
                ]
            }, {
                "type": "PmgSlidePanel",
                "title": "Business specialist",
                "children": [
                    {
                        "type": "PmgDatatable",
                        "variable": {
                            "name": "businessSpecialist"
                        },
                        "columnsCfg": [{
                                "key": "label",
                                "label": "Name"
                            }, {
                                "label": "Grade",
                                "formatter": "object",
                                "field": "instance.skillsets"
                            }, {
                                "label": "Wage",
                                "formatter": "template",
                                "field": "instance.properties.wage"
                            }, {
                                "label": "Ratio",
                                "formatter": "template",
                                "field": "instance.properties.ratio"
                            }, {
                                "label": "Motiv.",
                                "formatter": "template",
                                "field": "instance.moral"
                            }],
                        "plugins": [{
                                "fn": "ScheduleDT",
                                "cfg": {
                                    "columnToAdd": 10,
                                    "variable": {
                                        "name": "periodPhase3"
                                    }
                                }
                            }, {
                                "fn": "Assignment",
                                "cfg": {
                                    "taskList": {
                                        "name": "tasks"
                                    }
                                }
                            }, {
                                "fn": "Reservation",
                                "cfg": {
                                    "type": "occupations"
                                }
                            }, {
                                "fn": "OccupationColor"
                            }, {
                                "fn": "ActivityColor"
                            }]
                    }
                ]
            }
        ]
    },
    "6": {
        "cssClass": "actions-page",
        "type": "List",
        "direction": "vertical",
        "children": [
            {
                "type": "Text",
                "content": "<div class='title'><h2>Available actions during this phase</h2></div><div class='title'><h2>Description</h2></div>"
            }, {
                "type": "MCQTabView",
                "variable": {
                    "expr": "actions.items[currentPhase.value].descriptorId"

                }
            }
        ]
    },
    "7": {
        "cssClass": "questions-page",
        "type": "List",
        "direction": "vertical",
        "children": [
            {
                "type": "Text",
                "content": "<div class='title'><h2>Questions to be made during this week</h2></div><div class='title'><h2>Details</h2></div>"
            }, {
                "type": "MCQTabView",
                "variable": {
                    "expr": "questions.items[currentPhase.value].items[currentPeriod.items[currentPhase.value].value - 1].descriptorId"
                }
            }
        ]
    },
    "8": {
        "cssClass": "inbox-page",
        "type": "List",
        "direction": "vertical",
        "children": [
            {
                "type": "Text",
                "content": "<div class='title'><h2>Mailbox</h2></div><div class='title'><h2>Messages</h2></div>"
            }, {
                "type": "InboxDisplay",
                "variable": {
                    "name": "inbox"
                }
            }
        ]
    },
    "9": {
        "cssClass": "history-page",
        "type": "List",
        "direction": "vertical",
        "children": [
            {
                "type": "Text",
                "content": "<div class='title'><h2>Questions and actions history</h2></div><div class='title'><h2>Details</h2></div>"
            }, {
                "type": "InboxDisplay",
                "variable": {
                    "name": "inbox"
                }
            }
        ]
    }, "10": {
        "cssClass": "evm-page",
        "type": "List",
        "children": [
            {
                "type": "PmgDatatable",
                "cssClass": "evmDatatable",
                "variable": {
                    "name": "tasks"
                },
                "columnsCfg": [{
                        "key": "index",
                        "label": "No"
                    }, {
                        "key": "label",
                        "label": "Name"
                    }],
                "plugins": [{
                        "fn": "Bac"
                    }]
            }, {
                "type": "PmgSlidePanel",
                "title": "EVM",
                "cssClass": "evm",
                "animation": false,
                "children": [
                    {
                        "type": "Chart",
                        "chartWidth": "90%",
                        "variables": [{
                                "name": "actualCost",
                                "label": "AC (Actual Cost)"
                            }, {
                                "name": "planedValue",
                                "label": "PV (Planed Value)"
                            }, {
                                "name": "earnedValue",
                                "label": "EV (Earned Value)"
                            }]
                    }
                ]
            }
        ]
    }
}
